(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[669],{1363:function(e,t,n){Promise.resolve().then(n.t.bind(n,231,23)),Promise.resolve().then(n.bind(n,2885))},2885:function(e,t,n){"use strict";n.d(t,{default:function(){return r}});var l=n(7437),i=n(2265);let a={"1M":{range:"1mo",interval:"1d"},"3M":{range:"3mo",interval:"1d"},"6M":{range:"6mo",interval:"1d"},"1Y":{range:"1y",interval:"1d"},"5Y":{range:"5y",interval:"1wk"}};function r(e){let{ticker:t}=e,[n,r]=(0,i.useState)("1Y"),[o,s]=(0,i.useState)([]),[c,d]=(0,i.useState)(!0),[x,h]=(0,i.useState)(null),[u,f]=(0,i.useState)(null),m=(0,i.useRef)(null),p=(0,i.useCallback)(async e=>{d(!0),h(null),f(null);let n=a[e],l="https://query1.finance.yahoo.com/v8/finance/chart/".concat(t,".AX?range=").concat(n.range,"&interval=").concat(n.interval),i="https://corsproxy.io/?".concat(encodeURIComponent(l)),r=null;for(let e of[l,i])try{let t=await fetch(e);if(t.ok){r=await t.json();break}}catch(e){}if(!r){h("Unable to load price data"),d(!1);return}try{var o,c,x,u,m,p,g;let e=r,t=null===(c=e.chart)||void 0===c?void 0:null===(o=c.result)||void 0===o?void 0:o[0];if(!t)throw Error("No data");let n=null!==(p=t.timestamp)&&void 0!==p?p:[],l=null!==(g=null===(m=t.indicators)||void 0===m?void 0:null===(u=m.quote)||void 0===u?void 0:null===(x=u[0])||void 0===x?void 0:x.close)&&void 0!==g?g:[],i=[];for(let e=0;e<n.length;e++){let t=l[e];null!=t&&isFinite(t)&&i.push({date:1e3*n[e],price:t})}if(0===i.length)throw Error("No price data");s(i)}catch(e){h("Unable to parse price data")}d(!1)},[t]);(0,i.useEffect)(()=>{p(n)},[n,p]);let g=o.map(e=>e.price),v=g.length?Math.min(...g):0,y=g.length?Math.max(...g):1,j=.05*(y-v||1),b=v-j,k=y+j,w=k-b,N=o.length>0?o[0].price:0,M=o.length>0?o[o.length-1].price:0,F=M-N,C=0!==N?(F/N*100).toFixed(2):"0.00",L=F>=0,S=L?"#22c55e":"#ef4444",A="chart-grad-".concat(t);function W(e){return 58+e/Math.max(o.length-1,1)*626}function z(e){return 16+(1-(e-b)/w)*212}let D="",E="";o.length>1&&(E=(D=o.map((e,t)=>"".concat(0===t?"M":"L").concat(W(t).toFixed(2),",").concat(z(e.price).toFixed(2))).join(" "))+" L".concat(W(o.length-1).toFixed(2),",").concat("228.00"," L").concat("58.00",",").concat("228.00"," Z"));let _=[b,b+w/2,k].map(e=>({value:e,label:e<1?e.toFixed(3):e<10?e.toFixed(2):e.toFixed(1),y:z(e)})),O=function(){if(o.length<2)return[];let e=[],t=-1;for(let n=0;n<o.length;n++){let l=new Date(o[n].date),i=l.getMonth();if(i!==t){t=i;let a=l.toLocaleDateString("en-AU",{month:"short"});e.push({label:a,x:W(n)})}}return e.length>12?e.filter((e,t)=>t%2==0):e}();return(0,l.jsxs)("div",{className:"glass-card rounded-2xl p-6",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"font-display text-xl font-semibold",children:"Price Chart"}),!c&&!x&&o.length>0&&(0,l.jsxs)("div",{className:"mt-1 flex items-baseline gap-3",children:[(0,l.jsxs)("span",{className:"text-2xl font-bold",children:["$",M<1?M.toFixed(3):M.toFixed(2)]}),(0,l.jsxs)("span",{className:"text-sm font-semibold ".concat(L?"text-green-400":"text-red-400"),children:[L?"+":"",F<1&&F>-1?F.toFixed(3):F.toFixed(2)," ","(",L?"+":"",C,"%)"]})]})]}),(0,l.jsx)("div",{className:"flex gap-1",children:Object.keys(a).map(e=>(0,l.jsx)("button",{onClick:()=>{r(e)},className:"rounded-lg px-3 py-1.5 text-xs font-semibold transition ".concat(n===e?"bg-blue-500 text-white":"text-slate-400 hover:bg-white/5 hover:text-white"),children:e},e))})]}),(0,l.jsxs)("div",{className:"mt-4",children:[c&&(0,l.jsx)("div",{className:"flex h-[300px] items-center justify-center",children:(0,l.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-400",children:[(0,l.jsxs)("svg",{className:"h-5 w-5 animate-spin text-blue-400",viewBox:"0 0 24 24",fill:"none",children:[(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3",className:"opacity-25"}),(0,l.jsx)("path",{d:"M4 12a8 8 0 018-8",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",className:"opacity-75"})]}),"Loading price dataâ€¦"]})}),x&&(0,l.jsxs)("div",{className:"flex h-[300px] flex-col items-center justify-center gap-3 text-sm text-slate-400",children:[(0,l.jsx)("svg",{className:"h-8 w-8 text-red-400/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:1.5,children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})}),(0,l.jsx)("p",{children:x}),(0,l.jsx)("button",{onClick:()=>p(n),className:"rounded-lg bg-blue-500/20 px-4 py-2 text-xs font-semibold text-blue-300 hover:bg-blue-500/30 transition",children:"Retry"})]}),!c&&!x&&o.length>1&&(0,l.jsxs)("svg",{ref:m,viewBox:"0 0 ".concat(700," ").concat(260),className:"w-full",style:{height:"300px"},onMouseMove:function(e){if(!m.current||o.length<2)return;let t=m.current.getBoundingClientRect(),n=Math.round(((e.clientX-t.left)/t.width*700-58)/626*(o.length-1)),l=Math.max(0,Math.min(o.length-1,n)),i=o[l];f({x:W(l),y:z(i.price),price:i.price,date:i.date})},onMouseLeave:function(){f(null)},children:[(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:A,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"0%",stopColor:S,stopOpacity:.25}),(0,l.jsx)("stop",{offset:"100%",stopColor:S,stopOpacity:0})]})}),_.map((e,t)=>(0,l.jsx)("line",{x1:58,x2:684,y1:e.y,y2:e.y,stroke:"rgba(255,255,255,0.06)",strokeDasharray:"4 4"},t)),(0,l.jsx)("path",{d:E,fill:"url(#".concat(A,")")}),(0,l.jsx)("path",{d:D,fill:"none",stroke:S,strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round"}),_.map((e,t)=>(0,l.jsxs)("text",{x:50,y:e.y+4,textAnchor:"end",fill:"#94a3b8",fontSize:10,children:["$",e.label]},t)),O.map((e,t)=>(0,l.jsx)("text",{x:e.x,y:254,textAnchor:"middle",fill:"#94a3b8",fontSize:10,children:e.label},t)),u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("line",{x1:u.x,x2:u.x,y1:16,y2:228,stroke:"rgba(255,255,255,0.2)",strokeWidth:1,strokeDasharray:"3 3"}),(0,l.jsx)("circle",{cx:u.x,cy:u.y,r:4,fill:S,stroke:"white",strokeWidth:1.5}),(0,l.jsx)("rect",{x:Math.min(u.x-55,569),y:Math.max(16,u.y-48),width:110,height:36,rx:6,fill:"rgba(15,23,42,0.92)",stroke:"rgba(255,255,255,0.1)"}),(0,l.jsxs)("text",{x:Math.min(u.x,624),y:Math.max(30,u.y-32),textAnchor:"middle",fill:"white",fontSize:11,fontWeight:600,children:["$",u.price<1?u.price.toFixed(3):u.price.toFixed(2)]}),(0,l.jsx)("text",{x:Math.min(u.x,624),y:Math.max(44,u.y-17),textAnchor:"middle",fill:"#94a3b8",fontSize:9,children:new Date(u.date).toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric"})})]})]})]})]})}}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=1363)}),_N_E=e.O()}]);